// Testing out the pooling layers with varying UMEM sizes.

network {
  name = "cnn"
  input_rows = 32
  input_cols = 32
  input_height = 300

  layer pool0 {
    type = POOLING
    pooling_param {
      pool = MAX
      size = 2
      stride = 2
    }
  }

  layer pool1 {
    type = POOLING
    pooling_param {
      pool = AVG
      size = 2
      stride = 2
    }
  }

  layer pool2 {
    type = POOLING
    pooling_param {
      pool = MAX
      size = 2
      stride = 2
    }
  }

  layer fc {
    type = INNER_PRODUCT
    inner_product_param {
      num_output = 100
    }
  }

}

device {
  cpu_default_offload = DMA
  cpu_activation_func_offload = DMA
  use_hw_activation_func = true
  use_hw_pooling = true
  use_hw_batch_norm = false
  umem_size = 2097152
}
